<!DOCTYPE html>
<html>
<head>
	<title>Lonely Blue</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" type="text/css" href="style.css">


</head>
<body>
	<div id="mySidenav" class="sidenav">
  		<a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
  	
  		<div class="songlist">
  			<p></p>
  			<p></p>
  			<p></p>
  		</div>


  	</div>

  	<!-- <h1>Lonely Blue</h1> -->

	<text onclick="openNav()">+</text>

	<div id="wrapper"></div>


	<script type="text/javascript">

		// sidenav
		function openNav() {
    	document.getElementById("mySidenav").style.width = "250px";
		}

		function closeNav() {
    	document.getElementById("mySidenav").style.width = "0";
		}
		// sidenav end	


		var URL = [
			"cd.png"
		]

		for(i=0;i<500;i++) {
  			
  			var imgs = URL.map(function(URL) {
  			var img = new Image();
  			img.src = URL;
  			document.body.appendChild(img);
  			return img; 
			});
		}


var timer = 0, //this incrementally increases with each loop 
				counter = 0, // you will need a counter separate from `i` to increase for each setTimeout (separately from the for loop)
				circleDiameter = 0,
				direction = false,
				totalLength = 100;

for (var j = 0; j < 50; j++) {


		for (var i = 0; i < totalLength; i++) {
			

			setTimeout(function(){ // include the settimeout function

				//creating element
				var container = document.createElement("div");
				container.className = "container";

					if(counter % 5 == 0){
						if (direction) {
							// if direction is true, change it to false
							direction = false;
						}else{
							// if direction is false, change it to true
							direction = true;
							circleDiameter = 1;
						}
					}

					//incrementing the diameter
					if(!direction){
						// if direction = false
						circleDiameter--;
					}else{
						// if direction = true
						circleDiameter++;
					}
					// percentage of progress through array
					var progress = counter/(totalLength - 1);
					// producing the individual red and blue values through incrementing to total value of subtraction/addition
					var red = Math.ceil(255 - (progress*255));
					var blue = Math.ceil(progress*255);

					// constructing the color style string
					var color = "rgb(" + red + ", 0, " + blue + ")";
					// percentage for opacity
					var percentage = circleDiameter / 5;

					//template literal with diameter injected as inline css
					container.innerHTML = `

						<div style="
						background-color:${color}; 
						opacity:${percentage}; 
						width:${circleDiameter*2}vw; 
						height:${circleDiameter*2}vw;" class="circle"></div>

					`

					var child = document.getElementsByClassName("container")[0]

					if(child){
						child.remove()
					}
					

					document.getElementById("wrapper").appendChild(container)

					counter++;

				}, timer)

				timer += 100; //update timer to make sure the next instance happens after this one	
			}
}


					
		

	</script>
</body>
</html>









